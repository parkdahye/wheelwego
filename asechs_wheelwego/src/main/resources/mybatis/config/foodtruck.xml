<?xml version="1.0" encoding="UTF-8"?>
<!-- Sql Mapper -->
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="foodtruck"> 	
<resultMap type="truckVO" id="truckRM">
      <result property="foodtruckNumber" column="foodtruck_number" />
      <result property="foodtruckName" column="foodtruck_name"></result>
      <result property="sellerId" column="seller_id" />
	  <result property="foodtruckFilepath" column="foodtruck_filename1"/>
</resultMap>
<resultMap type="wishlistVO" id="wishlistRM">
	<result property="foodtruckNumber" column="foodtruck_number"/>
	<result property="customerId" column="customer_id"/>	
</resultMap>
<select id="foodtruckList" resultMap="truckRM">
select * from foodtruck
</select>
<select id="searchFoodTruckList" resultMap="truckRM">
select * from foodtruck where foodtruck_name like '%' || #{value} || '%' 
</select>
<select id="myWishList" resultMap="truckRM" parameterType="string"> 
select * from foodtruck where foodtruck_number in (select w.foodtruck_number
from customer c, wishlist w
where c.customer_id = w.customer_id and c.customer_id = #{value})
</select>

<delete id="deleteWishList" parameterType="wishListVO">
	delete from wishlist where customer_id = #{customerId} and foodtruck_number = #{foodTruckNumber}
</delete>
</mapper>
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
















